<h1 class='welcome-text text-center mt-5'>{{welcomeMessage}}</h1>

<main class='container mx-auto px-4 prose lg:prose-lg mb-6' id="dashboard">
  <section>
    <h2>Your Items:</h2>  
    <div class='grid grid-flow-row my-8 gap-8 text-neutral-600 sm:grid-cols-1 md:grid-cols-2'>
      {{#if ownedItems.length}}
        {{#each ownedItems}}
          <div
            class='rounded-xl p-6 shadow-lg shadow-gray-200 bg-white duration-300 hover:-translate-y-1 feed-card card'
          >
            <h3 class="mt-0">{{this.item_name}}</h3>
            <p>{{this.item_description}}</p>
            {{#if this.borrowed_by}}
              <p class='dash-card-text' id='borrowedBy-{{this.id}}'>Borrowed by
                Loading...</p>
            {{/if}}
          </div>
        {{/each}}
      {{else}}
        <p class='none mb-5 emptyBox p-5 rounded-xl'>You have no items, post one!</p>
      {{/if}}
    </div>
  </section>

  <section>
    <h2>Your Borrowed Items:</h2>
      {{#if borrowedItems.length}}
      <div class='grid grid-flow-row my-8 gap-8 text-neutral-600 sm:grid-cols-1 md:grid-cols-2'>
        <div
          class='rounded-xl p-6 shadow-lg shadow-gray-200 bg-white duration-300 hover:-translate-y-1 feed-card card'
        >
          {{#each borrowedItems}}
            <h3 class="mt-0">{{this.item_name}}</h3>
            <p>{{this.item_description}}</p>
            <p class='dash-card-text' id='borrowedFrom-{{this.id}}'>Borrowed by
              Loading...</p>
          {{/each}}
        </div>
      </div>
      {{else}}
        <p class='none emptyBox p-5 rounded-xl'>No borrowed items.</p>
      {{/if}}
  </section>

  <section>
    <h2>Your Pending Item Requests:</h2>
      {{#if pendingItem.length}}
      <div class='grid grid-flow-row my-8 gap-8 text-neutral-600 sm:grid-cols-1 md:grid-cols-2'>
        <div
          class='rounded-xl p-6 shadow-lg shadow-gray-200 bg-white duration-300 hover:-translate-y-1 feed-card card'
        >
          {{#each pendingItem}}
            <h3 class="mt-0">{{this.item_name}}</h3>
            <p>{{this.item_description}}</p>
            <p class='dash-card-text' id='requestStatus-{{this.id}}'>Request Status: {{this.request_status}}</p>
          {{/each}}
        </div>
      </div>
      {{else}}
        <p class='none emptyBox p-5 rounded-xl'>No Pending Requests.</p>
      {{/if}}
  </section>

</main>

<script src='/js/dashboard.js' data-user-id='{{currentUser.id}}'></script>